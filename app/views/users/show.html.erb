<%= link_to 'Вернуться на домашнюю страницу', root_path %>
<h1><%= @user.nickname %>'s Profile</h1>

<div>
  <%= render 'user_details', user: @user %>
</div>

<div>
  <%= link_to 'Просмотреть подписчиков', subscription_path(@user) %> 
  <% if current_user != @user %>
    <% if current_user.following?(@user) %>
      <%= button_to 'Отписаться', user_subscriptions_path(@user.id), method: :delete, data: { confirm: "Вы действительно хотите отписать #{@user.nickname}?" } %>
    <% else %>
      <%= button_to 'Подписаться', user_subscriptions_path(@user.id), method: :post %>
    <% end %>
  <% end %>
</div>

<div> 
  <% if current_user == @user %>
    <%= link_to 'Редактировать профиль', edit_page_path(current_user) %> <br/>
    <%= link_to 'Создать пост', new_post_path(current_user.id) %> 
  <% end %>
</div>

<h2>Посты пользователя:</h2>
<% if @user.posts.any? %>
  <ul>
    <%= render @user.posts %>
  </ul>
<% else %>
  <p>У пользователя нет постов.</p>
<% end %>
